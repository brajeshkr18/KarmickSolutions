@model PagedList.IPagedList<DemoModel.ViewModel.ProductViewModel>
    @using PagedList.Mvc;
    @{
    Layout = null;
    }
    <table id="zero_config" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Id</th>
                <th>ProductName</th>
                <th>CategoryName</th>
                <th>Price</th>
                <th>Description</th>
                <th>Image</th>
                @*<th>Created Date</th>*@
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (DemoModel.ViewModel.ProductViewModel entity in Model)
            {
            <tr>
                <td>@entity.ProductId</td>
                <td>@entity.ProductName</td>
                <td>@entity.Tbl_Category.CategoryName</td>
                <td>@entity.Price</td>
                <td>@entity.Description</td>
                <td><img src="@entity.ProductImage" style="width: 150px;" /></td>
                @*<td>@entity.CreatedDate</td>*@
                <td>
                    <a class="btn btn-outline-info btn-xs linkbutton"
                       href="@Url.Action("AddProduct", "Item"
            ,new {data=entity.ProductId})" name="edit"><i class="fa fa-edit"></i>Edit</a>&nbsp;
                    <button class="btn btn-outline-info btn-xs linkbutton" onclick="DeleteProduct(@entity.ProductId)">
                        <i class=" fas fa-trash"></i>Delete
                    </button>
                    @if (@entity.IsActive != null)
                    {


                        @*<button class="btn btn-outline-info btn-xs linkbutton" onclick="ViewData(@entity.ShippingDetailId)">
                            <i class="fas fa-eye"></i>View
                        </button>&nbsp;*@
                    }
                    else
                    {
                        <a class="btn btn-outline-info btn-xs linkbutton"
                           href="#" name="edit"><i class="fas fa-trash"></i>Delete</a>
                        @*<a class="btn btn-outline-info btn-xs linkbutton"
                   href="@Url.Action("DeleteGalleryImage", "Admin"
            ,new {data=entity.ProductId})" name="edit"><i class="fas fa-toggle-on"></i>Activate</a>*@
                    }
                </td>
            </tr>
            }
        </tbody>
        <tfoot>

        </tfoot>

    </table>

    <div class="modal fade none-border" id="add-new-event">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="productId" value="0"/>
                    <label class="control-label">Do you really want to delete the record. ?</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger waves-effect waves-light save-category" data-dismiss="modal" 
                            onclick="DeleteConfirm()">Yes</button>
                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
    <script src="~/AdminAsset/assets/extra-libs/DataTables/datatables.min.js"></script>
    <script>
        /****************************************
         *       Basic Table                   *
         ****************************************/
        $('#zero_config').DataTable();
        function DeleteProduct(id) {
            $("#productId").val(id)
                $("#add-new-event").modal('show');
        }
        function DeleteConfirm() {
            var productId=$("#productId").val();
            $.ajax({
                type: "POST",
                data: { ProductId: productId },
                url: "/Item/DeleteProduct",
                dataType: 'json',
                success: function (response) {
                    if (response.Status == "Success") {
                        alert(response.Message);
                        location.reload();
                    }
                    else {
                        alert(response.Message);
                    }
                }
            })
        }
    </script>